<!--THIS FILE IS AUTOGENERATED: DO NOT EDIT-->
<!--See https://github.com/dimagi/commcare-cloud/blob/master/changelog/README.md for instructions-->
# 35. Switch to new package manager

**Date:** 2020-07-09

**Optional per env:** _required on all environments_


## CommCare Version Dependency
This change is not known to be dependent on any particular version of CommCare.


## Change Context
To stay up to date with javascript package security alerts, we need to make sure we are using a javascript package manager
that is supported by Github.

## Details
Our old package manager, `bower`, has been deprecated for a while and is no longer supported by Github.
We decided to use `yarn` in place of `bower` and `npm` (which we were using for "backend" javascript)
because `yarn` supports building older `bower`-configured dependencies as well as
`npm` repositories. Eventually we will phase out these older `bower`-only dependencies and move to
`npm` entirely. But for now our new package manager is `yarn`, meaning that `bower install` and `npm install` are
replaced by one command `yarn install`.

## Steps to update
To update the package manager on all deployed machines in a particular environment please run:

```bash
cchq <env> deploy-stack --tags=npm
```

That's it! The command above should install `yarn` on all relevant machines so that it's ready to use
in the next deploy. We will be merging in a change shortly after this announcement that moves both `commcare-hq`
and `vellum` to use `yarn` in place of `bower` and `npm`.

It's safe to run the above the command before these changes are officially merged in, and it is highly
recommended to do so in order to keep deployments smooth.
