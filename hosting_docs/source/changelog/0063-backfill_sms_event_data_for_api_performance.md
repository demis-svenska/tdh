<!--THIS FILE IS AUTOGENERATED: DO NOT EDIT-->
<!--See https://github.com/dimagi/commcare-cloud/blob/master/changelog/README.md for instructions-->
# 63. Backfill SMS event data for API performance

**Date:** 2022-11-11

**Optional per env:** _only required on some environments_


## CommCare Version Dependency
The following version of CommCare must be deployed before rolling out this change:
[896676ba](https://github.com/dimagi/commcare-hq/commit/896676ba3c3b7f5e2898f055ace3ee1b196a7fac)


## Change Context
Backfill data in the `sms_smssubevent` table to improve the performance of the 'messaging-event' API.

This operation is only required if your environment is using SMS or Email workflows. Furthermore,
an automatic migration will be added to CommCare in the future which will apply these changes
during a code deploy if they have not already been applied.

## Details
To improve the performance of the 'messaging-event' API we have denormalized some of the fields.
The fields are already being populated for new data but a command needs to be executed to populate
the columns for existing data.

## Steps to update
Execute the following command:

```shell
$ commcare-cloud <env> django-manage --tmux backfill_sms_subevent_date 
```

Precautions:
* No downtime is needed for this operation however it is best to run the command during a period
  of low traffic.
